<header class="sticky top-0 z-50 h-24 flex items-center justify-center pointer-events-none px-4">
	<div
		class="pointer-events-auto bg-white/90 dark:bg-[#0c0c0e]/90 backdrop-blur-xl border border-zinc-200 dark:border-zinc-800/80 rounded-2xl shadow-2xl flex items-center p-2 gap-3 max-w-full overflow-x-auto no-scrollbar">

		<!-- Logo & Info -->
		<div class="flex items-center gap-3 pl-2 pr-1 shrink-0">
			<img src="/static/img/logo.png" alt="UpNext" class="h-6 w-auto object-contain"
				onerror="this.style.display='none';">
			<span
				class="font-heading font-bold text-lg text-zinc-900 dark:text-white tracking-tight hidden sm:block">UpNext</span>
			<button onclick="openInfoModal()"
				class="p-1.5 rounded-lg text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white transition-all hover:bg-black/5 dark:hover:bg-white/5"
				title="App Information">
				<i data-lucide="info" class="w-4 h-4"></i>
			</button>
		</div>

		<!-- Search Bar -->
		<div
			class="relative group w-48 sm:w-64 focus-within:w-72 sm:focus-within:w-96 transition-all duration-300 ease-out shrink-0">
			<div
				class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-zinc-400 dark:text-zinc-500 group-focus-within:text-indigo-500 dark:group-focus-within:text-white transition-colors">
				<i data-lucide="search" class="w-4 h-4"></i>
			</div>
			<input type="text" id="searchInput" placeholder="Search..."
				class="w-full bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-9 pr-8 py-2 text-sm focus:outline-none focus:border-indigo-500 dark:focus:border-zinc-600 focus:ring-1 focus:ring-indigo-500 dark:focus:ring-zinc-600 transition-all placeholder:text-zinc-400 dark:placeholder:text-zinc-600 text-zinc-900 dark:text-white font-medium">
			<button id="clearSearchBtn" onpointerdown="clearSearch(); event.preventDefault();"
				class="absolute right-2 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-900 dark:text-zinc-500 dark:hover:text-white hidden transition-colors">
				<i data-lucide="x" class="w-3 h-3"></i>
			</button>
		</div>

		<div class="w-px h-8 bg-zinc-200 dark:bg-zinc-800 shrink-0 hidden md:block"></div>

		<!-- View Controls -->
		<div class="flex items-center gap-2 shrink-0">
			<div
				class="flex items-center gap-1 bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-1 rounded-xl">
				<!-- Sort Config (Injected via JS) -->
				<div id="sortFieldFilters" class="flex gap-1"></div>
				<div class="w-px h-4 bg-zinc-300 dark:bg-zinc-800 mx-1"></div>
				<div id="sortDirectionFilters" class="flex gap-1"></div>
			</div>

			<div
				class="hidden md:flex items-center gap-1 bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-1 rounded-xl">
				<button onclick="toggleDetails()" id="detailsBtn"
					class="p-1.5 rounded-lg text-zinc-400 hover:text-zinc-900 dark:text-zinc-500 dark:hover:text-white transition-all hover:bg-black/5 dark:hover:bg-white/5 relative group"
					title="Toggle Details">
					<i data-lucide="eye" class="w-4 h-4"></i>
					<span id="detailsIndicator"
						class="absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-indigo-500 rounded-full hidden"></span>
				</button>

				<button onclick="toggleMultiSelect()" id="multiSelectBtn"
					class="p-1.5 rounded-lg text-zinc-400 hover:text-zinc-900 dark:text-zinc-500 dark:hover:text-white transition-all hover:bg-black/5 dark:hover:bg-white/5 relative group"
					title="Toggle Multiple Selection">
					<i data-lucide="list-checks" class="w-4 h-4"></i>
					<span id="multiSelectIndicator"
						class="absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-emerald-500 rounded-full hidden"></span>
				</button>

				<button onclick="toggleHidden()" id="hiddenBtn"
					class="p-1.5 rounded-lg text-zinc-400 hover:text-zinc-900 dark:text-zinc-500 dark:hover:text-white transition-all hover:bg-black/5 dark:hover:bg-white/5 relative group"
					title="Toggle Hidden Items">
					<i data-lucide="shield-off" class="w-4 h-4"></i>
					<span id="hiddenIndicator"
						class="absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-red-500 rounded-full hidden"></span>
				</button>

				<button onclick="toggleHiddenOnly()" id="hiddenOnlyBtn"
					class="hidden p-1.5 rounded-lg text-zinc-400 hover:text-red-500 dark:text-zinc-500 dark:hover:text-red-400 transition-all hover:bg-red-500/10 relative group border border-transparent"
					title="Filter Only Hidden">
					<i data-lucide="shield-alert" class="w-4 h-4"></i>
				</button>


			</div>

			<div
				class="flex items-center gap-2 bg-white/50 dark:bg-zinc-900/50 p-1 rounded-lg border border-zinc-200 dark:border-white/10 backdrop-blur-md">
				<button onclick="window.toggleTheme()"
					class="p-2 rounded-md hover:bg-black/5 dark:hover:bg-white/10 text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white transition-colors"
					title="Toggle Theme">
					<i id="themeIcon" data-lucide="sun" class="w-4 h-4"></i>
				</button>
				<div class="w-px h-4 bg-zinc-300 dark:bg-white/10 mx-1"></div>
				<button id="view-grid" onclick="setViewMode('grid')"
					class="p-2 rounded-md transition-colors text-zinc-400 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white">
					<i data-lucide="layout-grid" class="w-4 h-4"></i>
				</button>
				<button id="view-list" onclick="setViewMode('list')"
					class="p-2 rounded-md transition-colors text-zinc-400 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white">
					<i data-lucide="list" class="w-4 h-4"></i>
				</button>
			</div>

			<div class="w-px h-8 bg-zinc-200 dark:bg-zinc-800 shrink-0 hidden md:block"></div>

			<!-- Action Buttons -->
			<div
				class="flex items-center gap-2 shrink-0 border-l border-zinc-200 dark:border-zinc-800/50 pl-1 md:border-none md:pl-0">
				<button onclick="window.openStatsModal()"
					class="bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-200 dark:hover:bg-zinc-700 p-2 rounded-xl flex items-center justify-center transition-all border border-zinc-200 dark:border-zinc-700 active:scale-95"
					title="Library Stats">
					<i data-lucide="pie-chart" class="w-4 h-4"></i>
				</button>
				<button onclick="openExportModal()"
					class="bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-200 dark:hover:bg-zinc-700 p-2 rounded-xl flex items-center justify-center transition-all border border-zinc-200 dark:border-zinc-700 active:scale-95"
					title="Export Library">
					<i data-lucide="download" class="w-4 h-4"></i>
				</button>
				<button onclick="openModal()"
					class="bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-zinc-700 dark:hover:bg-zinc-200 px-4 py-2 rounded-xl flex items-center gap-2 text-sm font-bold transition-all shadow-lg active:scale-95 whitespace-nowrap">
					<i data-lucide="plus" class="w-4 h-4"></i> <span class="hidden sm:inline">Add</span>
				</button>
			</div>

		</div>
</header>